<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Pokémon GO - Calendrier Statique</title>
<style>
  body { font-family: Arial, sans-serif; margin:30px; background:#f8f9fa; color:#333; }
  h1,h2,h3,p,ol,td,th { margin:0; padding:0; }
  .container { max-width:950px; margin:auto; padding:25px; background:#fff; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.1);}
  
  /* Sections encadrées */
  .section { padding:20px; border-radius:12px; margin-bottom:20px; text-align:center; background:#e3f2fd; border:1px solid #90caf9; }
  .section h2 { margin-bottom:10px; color:#1565c0; font-size:1.4em; }
  .section p, .section ol { font-size:0.95em; line-height:1.5; text-align:left; display:inline-block; max-width:850px; }
  .section ol { margin-top:10px; text-align:left; }
  .separator { border-top:2px solid #90caf9; margin:15px 0; }

  /* Grille des tags */
  .tags-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; justify-items:center; }
  .tag { padding:12px; border-radius:10px; display:flex; align-items:center; justify-content:center; text-align:center; transition:0.3s; border:2px solid #000; cursor:pointer; min-height:55px; box-sizing:border-box; }
  .tag input { transform:scale(1.2); margin-right:8px; }
  .tag label { font-weight:bold; cursor:pointer; }
  .tag:hover { transform:scale(1.05); box-shadow:0 0 12px rgba(0,150,255,0.6); }

  button { display:block; margin:20px auto; padding:12px 20px; background:#1565c0; color:white; border:none; border-radius:8px; cursor:pointer; font-size:16px; font-weight:bold; transition:0.3s; }
  button:hover { background:#0d47a1; }

  #linkContainer { margin-top:20px; text-align:center; font-size:0.95em; word-break:break-all; }
  #linkContainer div { display:flex; justify-content:center; align-items:center; gap:10px; background:#f1f1f1; padding:10px; border-radius:8px; flex-wrap:wrap;}
  #linkContainer a { color:#1565c0; text-decoration:none; font-weight:bold; }
  #linkContainer a:hover { text-decoration:underline; }
  #linkContainer button { background:#1565c0; color:white; border:none; border-radius:5px; padding:5px 10px; cursor:pointer; font-size:0.85em; }

  /* Lexique */
  #lexique { margin-top:35px; overflow-x:auto; border:2px solid #000; border-radius:10px; background:#e3f2fd; }
  #lexique h3 { margin-bottom:12px; color:#444; text-align:center; padding-top:10px; }
  table { width:100%; border-collapse:collapse; font-size:0.95em; min-width:700px; text-align:center; }
  table th, table td { border:1px solid #000; padding:10px; text-align:center; transition:background 0.3s; }
  table th { background:#1565c0; color:white; text-align:center; }
  table td.abbr { font-size:0.8em; font-weight:bold; }
  table tr:hover { cursor:pointer; }

  /* Couleurs tags / lexique harmonisées */
  .tag-RH, .lex-RH { background-color:#ffebee; }
  .tag-RB, .lex-RB { background-color:#ffe0b2; }
  .tag-PSH, .lex-PSH { background-color:#e1f5fe; }
  .tag-CD, .lex-CD { background-color:#e8f5e9; }
  .tag-GBL, .lex-GBL { background-color:#f3e5f5; }
  .tag-WA, .lex-WA { background-color:#fff9c4; }
  .tag-E, .lex-E { background-color:#fce4ec; }
  .tag-S, .lex-S { background-color:#d7ccc8; }
  .tag-MM, .lex-MM { background-color:#c8e6c9; }
  .tag-RD, .lex-RD { background-color:#ffccbc; }
  .tag-RW, .lex-RW { background-color:#d1c4e9; }
  .tag-GP, .lex-GP { background-color:#b3e5fc; }
  .tag-CS, .lex-CS { background-color:#ffe082; }

  .highlight { outline:3px solid #1565c0; transition: outline 0.3s; }

  /* Signature */
  footer { margin-top:40px; text-align:center; color:#666; font-size:0.9em; }

</style>
</head>
<body>
<div class="container">

  <!-- Titre -->
  <div class="section">
    <h2>Pokémon GO - Sélection des événements</h2>
  </div>

  <!-- Description -->
  <div class="section">
    <h2>Comment ajouter le calendrier</h2>
    <p><strong>iPhone / iOS :</strong></p>
    <ol>
      <li>Ouvrir l’app Calendrier → Comptes</li>
      <li>Ajouter un compte → Autre → Ajouter un calendrier avec abonnement</li>
      <li>Coller le lien ICS : <br><code>https://sneakyontv.github.io/pokemon-go-calendar-fr/calendar/gocal_fr.ics</code></li>
      <li>Valider → Le calendrier apparaît dans l’app Calendrier.</li>
      <li>Configurer les alertes : matin pour événements journée entière, 30–45 min avant pour les raids.</li>
    </ol>
    <div class="separator"></div>
    <p><strong>Android :</strong></p>
    <ol>
      <li>Obtenir le lien ICS.</li>
      <li>Ouvrir Google Calendar → Autres agendas → Ajouter par URL → Coller le lien ICS → Valider.</li>
      <li>Ouvrir l’appli Google Calendar : le calendrier apparaît automatiquement.</li>
      <li>Pour supprimer un événement ou un calendrier entier, suivre les étapes correspondantes dans Google Calendar.</li>
    </ol>
  </div>

  <!-- Section Tags -->
  <div class="section">
    <h2>Sélectionnez les tags</h2>
    <div class="tags-grid">
      <div class="tag tag-RH" data-tag="RH"><input type="checkbox" id="RH" value="RH"><label for="RH">[RH] Raid Hour</label></div>
      <div class="tag tag-RB" data-tag="RB"><input type="checkbox" id="RB" value="RB"><label for="RB">[RB] Raid Boss</label></div>
      <div class="tag tag-PSH" data-tag="PSH"><input type="checkbox" id="PSH" value="PSH"><label for="PSH">[PSH] Pokémon Spotlight Hour</label></div>
      <div class="tag tag-CD" data-tag="CD"><input type="checkbox" id="CD" value="CD"><label for="CD">[CD] Community Day</label></div>
      <div class="tag tag-GBL" data-tag="GBL"><input type="checkbox" id="GBL" value="GBL"><label for="GBL">[GBL] GO Battle League</label></div>
      <div class="tag tag-WA" data-tag="WA"><input type="checkbox" id="WA" value="WA"><label for="WA">[WA] Wild Area</label></div>
      <div class="tag tag-E" data-tag="E"><input type="checkbox" id="E" value="E"><label for="E">[E] Event</label></div>
      <div class="tag tag-S" data-tag="S"><input type="checkbox" id="S" value="S"><label for="S">[S] Tales of Transformation</label></div>
      <div class="tag tag-MM" data-tag="MM"><input type="checkbox" id="MM" value="MM"><label for="MM">[MM] Max Monday</label></div>
      <div class="tag tag-RD" data-tag="RD"><input type="checkbox" id="RD" value="RD"><label for="RD">[RD] Raid Day</label></div>
      <div class="tag tag-RW" data-tag="RW"><input type="checkbox" id="RW" value="RW"><label for="RW">[RW] Raid Weekend</label></div>
      <div class="tag tag-GP" data-tag="GP"><input type="checkbox" id="GP" value="GP"><label for="GP">[GP] GO Pass</label></div>
      <div class="tag tag-CS" data-tag="CS"><input type="checkbox" id="CS" value="CS"><label for="CS">[CS] City Safari</label></div>
    </div>
  </div>

  <button onclick="generateLink()">Générer mon calendrier</button>
  <p id="linkContainer"></p>

  <!-- Lexique -->
  <div id="lexique">
    <h3>Lexique des tags</h3>
    <table>
      <thead>
        <tr><th>Abréviation</th><th>Nom anglais</th><th>Nom français</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr class="lex-RH" data-tag="RH"><td class="abbr">[RH]</td><td>Raid Hour</td><td>Heure de Raid</td><td>Raids spéciaux concentrés sur un Pokémon.</td></tr>
        <tr class="lex-RB" data-tag="RB"><td class="abbr">[RB]</td><td>Raid Boss</td><td>Boss de Raid</td><td>Pokémon disponible en tant que boss de raid.</td></tr>
        <tr class="lex-PSH" data-tag="PSH"><td class="abbr">[PSH]</td><td>Pokémon Spotlight Hour</td><td>Heure vedette Pokémon</td><td>Apparition accrue d’un Pokémon spécifique.</td></tr>
        <tr class="lex-CD" data-tag="CD"><td class="abbr">[CD]</td><td>Community Day</td><td>Journée Communautaire</td><td>Événement avec un Pokémon vedette et des bonus spéciaux.</td></tr>
        <tr class="lex-GBL" data-tag="GBL"><td class="abbr">[GBL]</td><td>GO Battle League</td><td>Ligue de Combat GO</td><td>Combats PvP avec règles et récompenses.</td></tr>
        <tr class="lex-WA" data-tag="WA"><td class="abbr">[WA]</td><td>Wild Area</td><td>Zone Sauvage</td><td>Apparitions spéciales dans la nature.</td></tr>
        <tr class="lex-E" data-tag="E"><td class="abbr">[E]</td><td>Event</td><td>Événement</td><td>Événement global ou local.</td></tr>
        <tr class="lex-S" data-tag="S"><td class="abbr">[S]</td><td>Tales of Transformation</td><td>Transformation fabuleuse</td><td>Événement spécial avec des Pokémon et mécaniques uniques.</td></tr>
        <tr class="lex-MM" data-tag="MM"><td class="abbr">[MM]</td><td>Max Monday</td><td>Lundi Max</td><td>Raids Dynamax spéciaux.</td></tr>
        <tr class="lex-RD" data-tag="RD"><td class="abbr">[RD]</td><td>Raid Day</td><td>Journée de Raids</td><td>Raids concentrés sur un Pokémon particulier.</td></tr>
        <tr class="lex-RW" data-tag="RW"><td class="abbr">[RW]</td><td>Raid Weekend</td><td>Week-end de Raids</td><td>Raids intensifs sur plusieurs jours.</td></tr>
        <tr class="lex-GP" data-tag="GP"><td class="abbr">[GP]</td><td>GO Pass</td><td>Passe GO</td><td>Suit votre progression pendant une période donnée.</td></tr>
        <tr class="lex-CS" data-tag="CS"><td class="abbr">[CS]</td><td>City Safari</td><td>Safari en Ville</td><td>Événement spécial dans certaines villes.</td></tr>
      </tbody>
    </table>
  </div>

  <footer>by SneakyOnTv</footer>
</div>

<script>
function generateLink() {
  const selectedTags = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(e=>e.value);
  if(selectedTags.length===0){alert("Veuillez cocher au moins un événement !");return;}
  const baseURL="https://pokemon-go-calendar-fr.vercel.app/api/calendar?tags=";
  const finalURL=baseURL+encodeURIComponent(selectedTags.join(","));
  const container=document.getElementById("linkContainer");
  container.innerHTML=`<div>Voici votre lien ICS : <a href="${finalURL}" target="_blank">${finalURL}</a>
  <button onclick="copyLink('${finalURL}')">Copier le lien</button></div>`;
}
function copyLink(url){navigator.clipboard.writeText(url).then(()=>alert("Lien copié !")).catch(()=>alert("Impossible de copier le lien."));}

// Highlight sur hover tags / lexique
document.querySelectorAll('.tag, .lexique tr').forEach(el=>{
  el.addEventListener('mouseenter',()=>highlightTag(el.dataset.tag,true));
  el.addEventListener('mouseleave',()=>highlightTag(el.dataset.tag,false));
});
function highlightTag(tag,state){
  if(!tag) return;
  document.querySelectorAll(`[data-tag="${tag}"]`).forEach(el=>{
    if(state) el.classList.add('highlight'); else el.classList.remove('highlight');
  });
}

// Clique sur ligne lexique sélectionne tag
document.querySelectorAll('.lexique tr').forEach(row=>{
  row.addEventListener('click',()=>{
    const tag=row.dataset.tag;
    const checkbox=document.getElementById(tag);
    if(checkbox) checkbox.checked=!checkbox.checked;
    const rows=document.querySelectorAll(`.lex-${tag}`);
    rows.forEach(r=>{ if(checkbox.checked) r.classList.add('highlight'); else r.classList.remove('highlight'); });
  });
});
</script>
</body>
</html>
